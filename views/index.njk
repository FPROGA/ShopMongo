{% extends "layout.njk" %}

{% block content %}
<div class="hero">
  <h1>üõçÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–æ–π –º–∞–≥–∞–∑–∏–Ω!</h1>
  
  {% if authError %}
    <div class="alert error">‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</div>
  {% endif %}
  {% if success %}
    <div class="alert success">‚úÖ –£—Å–ø–µ—à–Ω–æ!</div>
  {% endif %}
</div>

{% if not user %}
  <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
  <div class="login-form">
    <h2>üîê –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥</h2>
    <form action="/api/users/login" method="POST">
      <input class="form-input" type="text" name="username" placeholder="–õ–æ–≥–∏–Ω" required>
      <input class="form-input" type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
      <button class="submit-btn" type="submit">–í–æ–π—Ç–∏</button>
    </form>
  </div>
{% endif %}

<!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã -->
<div class="products-grid">
  {% for product in products %}
    <div class="product-card">
      <h3>{{ product.name }}</h3>
      <p>{{ product.description }}</p>
      <div class="price">{{ product.price }} ‚ÇΩ</div>
      <a href="/catalog" class="btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
    </div>
  {% endfor %}
</div>
{% endblock %}
